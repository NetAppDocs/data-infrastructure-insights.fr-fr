---
sidebar: sidebar 
permalink: task_dc_hpe_commandview.html 
keywords: data collector, HP Command View, HP, CVAE 
summary: Configuration du collecteur de données HP Enterprise Command View. 
---
= Collecteur de données HP Enterprise Command View
:hardbreaks:
:allow-uri-read: 


[role="lead"]
Le collecteur de données HP Enterprise Command View Advanced Edition prend en charge la découverte des baies XP et P9500 via le serveur Command View Advanced Edition (CVAE).  Data Infrastructure Insights communique avec CVAE à l'aide de l'API Command View standard pour collecter des données d'inventaire et de performances.



== Terminologie

Data Infrastructure Insights acquiert les informations d'inventaire suivantes auprès du collecteur de données HP Enterprise Command View.  Pour chaque type d’actif acquis par Data Infrastructure Insights, la terminologie la plus courante utilisée pour cet actif est indiquée.  Lorsque vous consultez ou dépannez ce collecteur de données, gardez à l'esprit la terminologie suivante :

[cols="2*"]
|===
| Terme du fournisseur/modèle | Data Infrastructure Insights 


| PDEV | Disque 


| Journal Pool | Groupe de disques 


| Baie de stockage | Stockage 


| Contrôleur de port | Nœud de stockage 


| Groupe de tableaux, pool DP | Piscine de stockage 


| Unité logique, LDEV | Volume 
|===
Remarque : il s’agit uniquement de mappages de terminologie courants et ils peuvent ne pas représenter tous les cas pour ce collecteur de données.



== Exigences en matière d'inventaire

Vous devez disposer des éléments suivants pour collecter des données d’inventaire :

* Adresse IP du serveur CVAE
* Nom d'utilisateur et mot de passe en lecture seule pour le logiciel CVAE et privilèges homologues
* Exigence portuaire : 2001




== Exigences de performance

Les exigences suivantes doivent être respectées pour collecter des données de performance :

* Performances HDS USP, USP V et VSP
+
** Performance Monitor doit être sous licence.
** Le commutateur de surveillance doit être activé.
** L'outil d'exportation (Export.exe) doit être copié dans l'AU Data Infrastructure Insights et extrait vers un emplacement.  Sur les AU Linux CI, assurez-vous que « cisys » dispose des autorisations de lecture et d'exécution.
** La version de l’outil d’exportation doit correspondre à la version du microcode du tableau cible.


* Performances AMS :
+
** Performance Monitor doit être sous licence.
** L'utilitaire CLI Storage Navigator Modular 2 (SNM2) doit être installé sur Data Infrastructure Insights AU.


* Exigences réseau
+
** Les outils d'exportation sont basés sur Java et utilisent RMI pour communiquer avec le tableau.  Ces outils peuvent ne pas être compatibles avec le pare-feu car ils peuvent négocier dynamiquement les ports TCP source et de destination à chaque appel.  De plus, les outils d'exportation de différents modèles de matrice peuvent se comporter différemment sur le réseau ; consultez HPE pour connaître les exigences de votre modèle.






== Configuration

[cols="2*"]
|===
| Champ | Description 


| Serveur Command View | Adresse IP ou nom de domaine complet du serveur Command View 


| Nom d'utilisateur | Nom d'utilisateur pour le serveur Command View. 


| Mot de passe | Mot de passe utilisé pour le serveur Command View. 


| Appareils - Stockages VSP G1000 (R800), VSP (R700), HUS VM (HM700) et USP | Liste des périphériques pour les stockages VSP G1000 (R800), VSP (R700), HUS VM (HM700) et USP.  Chaque stockage nécessite : * IP de la baie : adresse IP du stockage * Nom d'utilisateur : nom d'utilisateur pour le stockage * Mot de passe : mot de passe pour le stockage * Dossier contenant les fichiers JAR de l'utilitaire d'exportation 


| SNM2Devices - Stockages WMS/SMS/AMS | Liste des périphériques pour les stockages WMS/SMS/AMS.  Chaque stockage nécessite : * IP de la baie : adresse IP du stockage * Chemin d'accès CLI du navigateur de stockage : chemin d'accès CLI SNM2 * Authentification de compte valide : sélectionnez cette option pour choisir une authentification de compte valide * Nom d'utilisateur : nom d'utilisateur pour le stockage * Mot de passe : mot de passe pour le stockage 


| Choisissez Tuning Manager pour les performances | Remplacer les autres options de performances 


| Gestionnaire de réglage hôte | Adresse IP ou nom de domaine complet du gestionnaire de réglage 


| Port du gestionnaire de réglage | Port utilisé pour Tuning Manager 


| Nom d'utilisateur du gestionnaire de réglages | Nom d'utilisateur pour Tuning Manager 


| Mot de passe du gestionnaire de réglages | Mot de passe pour Tuning Manager 
|===
Remarque : dans HDS USP, USP V et VSP, n’importe quel disque peut appartenir à plusieurs groupes de baies.



== Configuration avancée

|===


| Champ | Description 


| Port du serveur Command View | Port utilisé pour le serveur Command View 


| HTTPs activé | Sélectionnez pour activer HTTPS 


| Intervalle d'interrogation d'inventaire (min) | Intervalle entre les sondages d'inventaire.  La valeur par défaut est 40. 


| Choisissez « Exclure » ou « Inclure » pour spécifier une liste | Indiquez si vous souhaitez inclure ou exclure la liste de tableaux ci-dessous lors de la collecte de données. 


| Exclure ou inclure des appareils | Liste séparée par des virgules d'ID de périphérique ou de noms de tableau à inclure ou à exclure 


| Gestionnaire d'hôtes de requêtes | Sélectionnez pour interroger le gestionnaire d'hôte 


| Intervalle d'interrogation des performances (sec) | Intervalle entre les sondages de performance.  La valeur par défaut est 300. 
|===


== Dépannage

Quelques éléments à essayer si vous rencontrez des problèmes avec ce collecteur de données :



=== Inventaire

[cols="2*"]
|===
| Problème: | Essayez ceci: 


| Erreur : l'utilisateur ne dispose pas de suffisamment d'autorisations | Utilisez un autre compte d'utilisateur disposant de plus de privilèges ou augmentez les privilèges du compte d'utilisateur configuré dans le collecteur de données 


| Erreur : la liste des stockages est vide.  Soit les appareils ne sont pas configurés, soit l'utilisateur ne dispose pas des autorisations suffisantes | * Utilisez DeviceManager pour vérifier si les périphériques sont configurés.  * Utilisez un autre compte utilisateur disposant de plus de privilèges ou augmentez les privilèges du compte utilisateur 


| Erreur : la matrice de stockage HDS n'a pas été actualisée pendant quelques jours | Recherchez pourquoi ce tableau n’est pas actualisé dans HP CommandView AE. 
|===


=== Performances

[cols="2*"]
|===
| Problème: | Essayez ceci: 


| Erreur : * Erreur lors de l'exécution de l'utilitaire d'exportation * Erreur lors de l'exécution de la commande externe | * Confirmez que l'utilitaire d'exportation est installé sur l'unité d'acquisition Data Infrastructure Insights * Confirmez que l'emplacement de l'utilitaire d'exportation est correct dans la configuration du collecteur de données * Confirmez que l'adresse IP de la baie USP/R600 est correcte dans la configuration du collecteur de données * Confirmez que le nom d'utilisateur et le mot de passe sont corrects dans la configuration du collecteur de données * Confirmez que la version de l'utilitaire d'exportation est compatible avec la version du microcode de la baie de stockage * À partir de l'unité d'acquisition Data Infrastructure Insights , ouvrez une invite de commande et procédez comme suit : - Modifiez le répertoire vers le répertoire d'installation configuré - Essayez d'établir une connexion avec la baie de stockage configurée en exécutant le fichier de commandes runWin.bat 


| Erreur : la connexion à l'outil d'exportation a échoué pour l'adresse IP cible | * Confirmer que le nom d'utilisateur/mot de passe est correct * Créer un identifiant utilisateur principalement pour ce collecteur de données HDS * Confirmer qu'aucun autre collecteur de données n'est configuré pour acquérir ce tableau 


| Erreur : les outils d'exportation ont enregistré « Impossible d'obtenir la plage horaire pour la surveillance ». | * Confirmez que la surveillance des performances est activée sur la baie.  * Essayez d'appeler les outils d'exportation en dehors de Data Infrastructure Insights pour confirmer que le problème se situe en dehors de Data Infrastructure Insights. 


| Erreur : * Erreur de configuration : la baie de stockage n'est pas prise en charge par l'utilitaire d'exportation * Erreur de configuration : la baie de stockage n'est pas prise en charge par l'interface de ligne de commande modulaire Storage Navigator | * Configurez uniquement les baies de stockage prises en charge.  * Utilisez « Filtrer la liste des périphériques » pour exclure les baies de stockage non prises en charge. 


| Erreur : * Erreur lors de l'exécution de la commande externe * Erreur de configuration : la baie de stockage n'est pas signalée par l'inventaire * Erreur de configuration : le dossier d'exportation ne contient pas de fichiers JAR | * Vérifiez l’emplacement de l’utilitaire d’exportation.  * Vérifiez si la baie de stockage en question est configurée dans le serveur Command View. * Définissez l'intervalle d'interrogation des performances comme un multiple de 60 secondes. 


| Erreur : * Erreur du navigateur de stockage CLI * Erreur lors de l'exécution de la commande auperform * Erreur lors de l'exécution de la commande externe | * Confirmez que l'interface de ligne de commande modulaire Storage Navigator est installée sur l'unité d'acquisition Data Infrastructure Insights. * Confirmez que l'emplacement de l'interface de ligne de commande modulaire Storage Navigator est correct dans la configuration du collecteur de données. * Confirmez que l'adresse IP de la baie WMS/SMS/SMS est correcte dans la configuration du collecteur de données. * Confirmez que la version de l'interface de ligne de commande modulaire Storage Navigator est compatible avec la version du microcode de la baie de stockage configurée dans le collecteur de données. * Depuis l'unité d'acquisition Data Infrastructure Insights , ouvrez une invite de commande et procédez comme suit : - Modifiez le répertoire vers le répertoire d'installation configuré. - Essayez d'établir une connexion avec la baie de stockage configurée en exécutant la commande suivante : « auunitref.exe ». 


| Erreur : Erreur de configuration : la baie de stockage n'est pas signalée par l'inventaire | Vérifiez si la baie de stockage en question est configurée dans le serveur Command View 


| Erreur : * Aucune baie n'est enregistrée avec l'interface de ligne de commande Storage Navigator Modular 2 * La baie n'est pas enregistrée avec l'interface de ligne de commande Storage Navigator Modular 2 * Erreur de configuration : Baie de stockage non enregistrée avec l'interface de ligne de commande StorageNavigator Modular | * Ouvrez l'invite de commande et changez de répertoire pour le chemin configuré * Exécutez la commande « set=STONAVM_HOME=. »  * Exécutez la commande « auunitref » * Confirmez que la sortie de la commande contient les détails de la baie avec l'IP * Si la sortie ne contient pas les détails de la baie, enregistrez la baie avec Storage Navigator CLI : - Ouvrez l'invite de commande et changez de répertoire pour le chemin configuré - Exécutez la commande « set=STONAVM_HOME=. »  - Exécutez la commande « auunitaddauto -ip ${ip} ».  Remplacez ${ip} par une adresse IP réelle 
|===
Des informations complémentaires peuvent être trouvées à partir dulink:concept_requesting_support.html["Support"] page ou dans lelink:reference_data_collector_support_matrix.html["Matrice de support du collecteur de données"] .
